# Задача 4.4: Frontend: Реализация UI Чата

## Информация о задаче
- **ID:** 4.4
- **Статус:** Ожидание
- **Зависимости:** 4.3
- **Приоритет:** Высокий
- **Ответственный:** AI-Frontend-Agent
- **Фаза:** 4 - Заявки и Коммуникация

## Описание
Реализовать классический интерфейс real-time чата для прямой коммуникации между компанией и кандидатом.

### Основной функционал:
1. Создать страницу `/dashboard/chat/:applicationId`
2. Реализовать классический интерфейс чата:
   - Слева список сообщений
   - Внизу поле для ввода и кнопка "Отправить"
3. Использовать `supabase.channel().on().subscribe()` для подписки на новые сообщения в таблице `chat_messages`, фильтруя по `chat_id`
4. При получении нового сообщения добавлять его в список
5. При отправке сообщения использовать `supabase.from('chat_messages').insert(...)`

## Критерии приемки
- Пользователи видят историю сообщений в чате
- Новые сообщения появляются в реальном времени без перезагрузки страницы
- Пользователи могут отправлять сообщения
- Доступ к чату есть только у участников (компания и кандидат)
- Автоматическая прокрутка к новым сообщениям
- Различное отображение своих и чужих сообщений

## Технические детали
- Использовать хук `useEffect` для подписки и отписки от канала Supabase Realtime
- Управление состоянием сообщений через `useState` или Zustand
- Обработка ошибок отправки сообщений
- Debounce для предотвращения спама
- Валидация сообщений (не пустые, максимальная длина)

## Компоненты
- `ChatPage` - основная страница чата
- `MessageList` - список сообщений
- `MessageItem` - отдельное сообщение
- `MessageInput` - поле ввода с кнопкой отправки
- `ChatHeader` - заголовок чата с информацией о проекте
- `TypingIndicator` - индикатор набора текста (опционально)

## Связанные файлы
- `src/pages/dashboard/Chat.tsx`
- `src/components/chat/`
- `src/hooks/useChat.ts`
- `src/hooks/useRealtime.ts`
- `src/types/chat.ts`

## Входные данные
- Application ID для определения чата
- Текущий пользователь для отображения своих сообщений
- Real-time события от Supabase

## Выходные данные
Полнофункциональный real-time чат интерфейс с историей сообщений 