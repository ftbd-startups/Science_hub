# Задача 3.1: Backend: CRUD API для Проектов

## Информация о задаче
- **ID:** 3.1
- **Статус:** Ожидание
- **Зависимости:** 1.3, 2.2
- **Приоритет:** Высокий
- **Ответственный:** AI-Backend-Agent
- **Фаза:** 3 - Функционал Проектов

## Описание
Создать Supabase Edge Function в `supabase/functions/projects/index.ts`. Эта функция должна обрабатывать HTTP-запросы для управления проектами. Использовать роутер (например, Deno `oak`) для обработки маршрутов.

### API Маршруты:
- `GET /`: Получение списка всех *публичных* проектов с пагинацией
- `GET /my`: Получение списка проектов, принадлежащих аутентифицированной компании
- `POST /`: Создание нового проекта (извлекать `company_id` из JWT-токена)
- `GET /:id`: Получение информации о конкретном проекте
- `PATCH /:id`: Обновление информации о проекте
- `DELETE /:id`: Удаление проекта

## Критерии приемки
- Все эндпоинты работают и возвращают корректные HTTP-статусы (200, 201, 400, 401, 403, 404)
- Запросы без JWT-токена к защищенным маршрутам (все, кроме `GET /` и `GET /:id`) получают 401
- Пользователь с ролью `company_user` может создавать/изменять/удалять только проекты своей компании
- Пользователь с ролью `researcher` не может создавать/изменять/удалять проекты

## Технические детали
- Создать RLS-политику, разрешающую `SELECT` для всех пользователей на публичные проекты (`type = 'public'`)
- Создать RLS-политику, разрешающую `INSERT`, `UPDATE`, `DELETE` только для пользователей, чей `id` совпадает с `company_profiles.id`, на который ссылается `projects.company_id`
- Валидировать входящие данные с помощью Zod

## Связанные файлы
- `supabase/functions/projects/index.ts`
- `supabase/migrations/` - RLS политики
- Модели данных: projects

## Входные данные
HTTP-запросы с JWT-токеном. Тело запроса для `POST` и `PATCH` содержит данные проекта (title, description и т.д.)

## Выходные данные
JSON-ответы с данными проекта(ов) или статусом успеха/ошибки 